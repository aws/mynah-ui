/*!
 * Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */

.mynah-modified-files-tracker-wrapper {
    border: var(--mynah-border-width) solid var(--mynah-color-text-weak);
    border-bottom: none;
    border-radius: var(--mynah-input-radius) var(--mynah-input-radius) var(--mynah-card-radius-corner)
        var(--mynah-card-radius-corner);
    margin: var(--mynah-card-radius-corner) calc(var(--mynah-chat-wrapper-spacing) + var(--mynah-sizing-2));

    &.hidden {
        display: none;
    }

    .mynah-collapsible-content-label-content-wrapper {
        pointer-events: none;

        * {
            pointer-events: auto;
        }
    }

    .mynah-modified-files-empty-state {
        color: var(--mynah-color-text-weak);
        font-style: italic;
        padding: var(--mynah-sizing-2) var(--mynah-card-radius-corner);
    }

    .mynah-modified-files-horizontal-container {
        display: flex;
        align-items: center;
        gap: var(--mynah-sizing-2);
        width: 100%;

        .mynah-chat-item-tree-view-wrapper {
            flex: 1;
            min-width: 0;
        }

        .mynah-modified-files-file-buttons {
            flex-shrink: 0;
        }
    }

    .mynah-modified-files-undo-all-container {
        display: flex;
        justify-content: flex-end;
        width: 100%;
    }

    .mynah-modified-files-undo-all-buttons {
        padding-right: var(--mynah-sizing-2);
        margin-top: var(--mynah-sizing-1);
    }
}

// Remove top border radius and padding from chat prompt when modified files tracker is visible
.mynah-modified-files-tracker-wrapper:not(.hidden) + .mynah-chat-prompt-wrapper {
    padding-top: var(--mynah-card-radius-corner);
    margin-top: calc(var(--mynah-sizing-negative-2, calc(-1 * var(--mynah-sizing-2))));

    > .mynah-chat-prompt {
        border-top-left-radius: var(--mynah-card-radius-corner);
        border-top-right-radius: var(--mynah-card-radius-corner);
        border-top: none;
    }
}
